<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>arrayMethod.html</title>
  <script src="memberList.js"></script>
  <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
  <script>
    // <div id = "show"></div>
    // 회원 아이디/ 이름/ 급여/ 누적급여
  //   $(document).ready(function () {
  //     $('#show').empty()
  //     let sum = 0;
  //     let table =  $('<table border="1" />');
  //   let result = data.forEach(function (item, idx, ary){
  //     sum += item.salary
  //     let tr = $('<tr />').append(
  //       $('<td />').text(item.id),
  //       $('<td />').text(item.first_name + '-' + item.last_name),
  //       $('<td />').text(item.salary),
  //       $('<td />').text(sum)
  //     )
  //     $('#show').append(table);
  //     table.append(tr);
  //   })
  // })
  // </script>
   <script>
    console.log(data);

    //배열메소드 : forEach(item,idx,arv)
    // salary 4000넘고 female 인 사람들의 급여합계.
    let sum = 0;
    let cnt = 0;
    let avg = 0;
    let result =data.forEach(function (item, idx, ary){      
      //console.log(item, idx, ary)
      if(item.salary > 3500 && item.gender == 'Female'){
        sum += item.salary;
        cnt ++;
        avg = sum/cnt;
      }
    });
    console.log('합계 : ' + sum, '평균' + avg , '갯수 :' +cnt );
    console.log (result);

    //map() => 배열의 갯수만큼 새로운 형태의 값을 반환.
    // A-> A'
    result = data.map(function(item){
      let male = {}
      male.id = item.id;
      male.name = item.first_name + '-' + item.last_name;
    
      //return male;
    });



    // filter() => 조건을 만족하는 새로운 배열.
    // A -> B 

    result = data.filter(function (item){
      return item.gender == "Male";
    });


    //reduce() => 반환값이 배열, number, 문자... 
    // 네 개의 인자를 가집니다.
    // https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce
    sum = 0;
    result = data.reduce(function (acc, val, idx, ary){
      return acc += val.salary;
    }, sum);
    console.log(result);

    // splice
    
    data =[];
    data.push({id:data.length+1, name:'Apple'});
    data.push({id:data.length+1, name:'Banana'});
    data.unshift({id:data.length+1, name:'Cherry'});
    data.splice(1,0, { id:data.length+1, name:'Melon'});
    //data.splice(2,1);
    console.log(data);
    
    // Array.some()
    result = data.some(function (item) {
      return item.name == 'Banana';
    })
    
    result = data.every(function (item){
      return item.name.length >= 6;
    })

    console.log(result);
    
    // from ()
    result = Array.from('abcde');
    console.log(result);
    
    result = "a,b,c,d,e".split(',').reverse();
    console.log(result);

    //sort() -  알파벳 정렬
    data = ['banana','cherry','apple']
    result = data.sort();
    console.log(result);
    
    document.addEventListener('DOMContentLoaded', function(){
      // 출력 대상 : gender: female
      // id/ name/ gender / salary

      let easyAry = ['one','two','three'];
      result = data.reduce(function(acc,val,idx){

        acc += '<tr><td>' + val.id + '</td></td>' + val.first_name + '</td><td>' + val.gender + '</td><td>' + val.salary +'</td></tr>';
            return acc;
      }, "<table border ='1'>");
    
        $('#show').append(result);
        
      //  result += "</table>";
     
      //document.getElementById('show').innerHTML = result;
    })
      
   </script>
</head>
<body>
  <div id="show">
   <!-- <table border="1">
      <tr><td>one</td></tr>
      <tr><td>two</td></tr>
      <tr><td>three</td></tr>
    </table> -->
  </div>
</body>
</html>